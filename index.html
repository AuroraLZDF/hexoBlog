<!--
	作者：Sariay
	时间：2018-09-25
	描述：There may be a bug, but don't worry, QiLing(器灵) says that it can work normally!
-->


	<!DOCTYPE html>
	<html>
		

<head><meta name="generator" content="Hexo 3.8.0">
	<title>Aurora-龙振巅峰的博客</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="apple-mobile-web-app-title" content="Amaze UI">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <meta name="author" content="Aurora-龙振巅峰">
    <meta name="keywords" content="后端，PHP，JS，JQUERY，开发者，程序猿，编程，代码，开源，IT网站，Developer，Programmer，Coder，Geek，Html，Css，用户体验">
    <meta name="description" content="赤子之心，坦诚相待">
   	<!-- css -->
	<link rel="stylesheet" href="/css/style.css">

	<!-- favicon -->
	<link href="/img/favicon.ico" rel="Shortcut Icon" type="image/ico">
	
	<!-- font-awesome -->
	<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
	<body>	
		<!--Preloader-->
<div id="preloader">
	<div id="status">
		<img alt="PRELOADER" src="/img/logo.png">
	</div>
</div>
<!--Preloader end-->

<!-- header -->

	<header id="header-bg-2">

	
		<div id="cd-logo"><a href="/"><img src="/img/logo.png" alt="Logo"></a></div>
	
	
	<!-- motto or description -->
		
 		<p class="motto">南京航空航天大学，就职于苏州。擅长PHP开发，Linux爱好者。</p>
	
	
	<!-- current page name or title -->
	
		
		
			
			<p class="page-name">主页</p>	
			
		
	
	
	<!-- others: such as change-bg, time... -->
	<p class="page-name-other">
		4/3/2019 
		<style type="text/css">
	header:after {
		content: '';
		position: relative;
		top: 0;
		left: 0;
		height: 100%;
		width: 100%;
		background: #222222;
		opacity: .5;
		z-index: -1;
	}
	
	.change-header-bg{
		font-style: normal;
	}
	.change-header-bg i{
		text-align: center;
		cursor: pointer;
		pointer-events: bounding-box;
	}
	@media(max-width:512px) {
		.change-header-bg {
			display: none;
			visibility: hidden;
		}
	}
	
</style>

<script type="text/javascript">
	function changeHeaderBg(){
		var random_bg = Math.floor(Math.random() * 109 + 1);
		var bg = 'url(https://auroralzdf.github.io/Random-img/' + random_bg + '.jpg)';
		$("#header-bg-2").css("background-image", bg);
	}
</script>

<span class="change-header-bg">
	——&nbsp;<i class="fa fa-camera-retro" onclick="changeHeaderBg()"></i>	
</span>
	</p>		
</header>

<!-- nav -->
<div id="cd-nav">
	<a href="#0" title="menu" class="cd-nav-trigger"><span></span></a>

	<nav id="cd-main-nav">
		<ul>
			
      		<li class="fa fa-/">
           		<a href="/" title="主页">主页</a>	
      		</li>
    		
      		<li class="fa fa-/archives">
           		<a href="/archives" title="归档">归档</a>	
      		</li>
    		
      		<li class="fa fa-/categories">
           		<a href="/categories" title="分类">分类</a>	
      		</li>
    		
      		<li class="fa fa-/tags">
           		<a href="/tags" title="标签">标签</a>	
      		</li>
    		
      		<li class="fa fa-/about">
           		<a href="/about" title="关于">关于</a>	
      		</li>
    		
      		<li class="fa fa-/gallery">
           		<a href="/gallery" title="相册">相册</a>	
      		</li>
    		
    		
        	
            	<li class="fa fa-/search"><a href="javascript:;" class="popup-trigger" title="Search">搜索</a></li>
        	
		</ul>
	</nav>
</div>

		<!--main-->
		<main> 
		<div class="page-container">
		
	<!-- content srart -->
<div class="am-g am-g-fixed blog-fixed">
	<div class="am-u-md-12 am-u-sm-12">

		
			<article class="am-g blog-entry-article">

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-img">
					<img src="/images/categories/shell.jpg" class="am-u-sm-12">
				</div>	

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-text">
					<span class="theme-annie-post-date">
						<a href="/2019/04/01/shell/shell-编程的基本元素/" itemprop="url">
	<time datetime="2019-04-01T07:42:03.000Z" itemprop="datePublished">
  		2019-04-01
  </time>
</a>    

					</span>
					<span class="theme-annie-post-title">
						
	
		<a href="/2019/04/01/shell/shell-编程的基本元素/" itemprop="url">		
			shell-编程的基本元素		
		</a>
	

					</span>
					
					
						<p>
							
								变量123456789101112131415161718192021222324252627282930313233343536373839404142# variable.sh#整形还是字符串？a=2334              # 整形let "a += 1"echo "a = $a"		# 还是整形echob=$&#123;a/23/BB&#125;        # 将“23”替换成	
							  
						</p> 
					

					
						<span class="continue-read">      	
							<a href="/2019/04/01/shell/shell-编程的基本元素/" class="pull-right">
								展开全文
							</a>		
						</span>
					         		
				</div>
		
			</article>
		
			<article class="am-g blog-entry-article">

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-img">
					<img src="/images/categories/shell.jpg" class="am-u-sm-12">
				</div>	

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-text">
					<span class="theme-annie-post-date">
						<a href="/2019/04/01/shell/shell-shell编程基础/" itemprop="url">
	<time datetime="2019-04-01T03:26:01.000Z" itemprop="datePublished">
  		2019-04-01
  </time>
</a>    

					</span>
					<span class="theme-annie-post-title">
						
	
		<a href="/2019/04/01/shell/shell-shell编程基础/" itemprop="url">		
			shell-shell编程基础		
		</a>
	

					</span>
					
					
						<p>
							
								向脚本中传递参数shell 脚本传参方式是，直接在执行脚本时，在后面以空格连接变量即可。
$# 用来代表传入脚本参数个数；$@` 代表所有参数的内容。
​                                          shell 编程中的参数引用



引用参数
描述




0,1,2…
位置参数。从参数 0 开始，参数 0 代表启动脚本的程序名称。1代表第一个参数，2代表第	
							  
						</p> 
					

					
						<span class="continue-read">      	
							<a href="/2019/04/01/shell/shell-shell编程基础/" class="pull-right">
								展开全文
							</a>		
						</span>
					         		
				</div>
		
			</article>
		
			<article class="am-g blog-entry-article">

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-img">
					<img src="/images/categories/shell.jpg" class="am-u-sm-12">
				</div>	

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-text">
					<span class="theme-annie-post-date">
						<a href="/2019/03/29/shell/shell-初识Shell/" itemprop="url">
	<time datetime="2019-03-29T06:58:08.000Z" itemprop="datePublished">
  		2019-03-29
  </time>
</a>    

					</span>
					<span class="theme-annie-post-title">
						
	
		<a href="/2019/03/29/shell/shell-初识Shell/" itemprop="url">		
			shell-初识Shell		
		</a>
	

					</span>
					
					
						<p>
							
								第一个 Shell 实例1234#！/bin/bash# hello.shcd /tmpecho "hello world!"
运行这个程序：123$ chmod +x hello.sh$ ./hello.shhello world!
第一行的#!当命令行 shell 执行程序时，先判断该程序是否有可执行权限。没有可执行权限，通过 chmod +x 给程序赋予权限。
#! 的作用是，当执行这个程序	
							  
						</p> 
					

					
						<span class="continue-read">      	
							<a href="/2019/03/29/shell/shell-初识Shell/" class="pull-right">
								展开全文
							</a>		
						</span>
					         		
				</div>
		
			</article>
		
			<article class="am-g blog-entry-article">

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-img">
					<img src="/images/categories/golang.jpeg" class="am-u-sm-12">
				</div>	

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-text">
					<span class="theme-annie-post-date">
						<a href="/2019/03/01/golang/Gin文档中文翻译/" itemprop="url">
	<time datetime="2019-03-01T08:02:42.000Z" itemprop="datePublished">
  		2019-03-01
  </time>
</a>    

					</span>
					<span class="theme-annie-post-title">
						
	
		<a href="/2019/03/01/golang/Gin文档中文翻译/" itemprop="url">		
			【转】Gin文档中文翻译		
		</a>
	

					</span>
					
					
						<p>
							
								Gin 是一个用 Go 语言编写的 WEB 框架。它具有和 maritini 类似的 API 并拥有更好的性能， 感谢 httprouter 使它的速度提升了 40 倍。如果你需要性能和良好的生产力，你将会爱上 Gin 。

安装要安装 Gin 包，你需要安装 Go 并且设置好你的 Go 工作空间。

下载并安装它：

1$ go get -u github.com/gin-gonic/gin

	
							  
						</p> 
					

					
						<span class="continue-read">      	
							<a href="/2019/03/01/golang/Gin文档中文翻译/" class="pull-right">
								展开全文
							</a>		
						</span>
					         		
				</div>
		
			</article>
		
			<article class="am-g blog-entry-article">

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-img">
					<img src="/images/categories/php.jpeg" class="am-u-sm-12">
				</div>	

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-text">
					<span class="theme-annie-post-date">
						<a href="/2019/02/21/php/PHP-设计模式/" itemprop="url">
	<time datetime="2019-02-21T08:38:06.000Z" itemprop="datePublished">
  		2019-02-21
  </time>
</a>    

					</span>
					<span class="theme-annie-post-title">
						
	
		<a href="/2019/02/21/php/PHP-设计模式/" itemprop="url">		
			PHP-设计模式（一）		
		</a>
	

					</span>
					
					
						<p>
							
								什么是设计模式设计模式（Design pattern）是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性。 毫无疑问，设计模式于己于他人于系统都是多赢的，设计模式使代码编制真正工程化，设计模式是软件工程的基石，如同大厦的一块块砖石一样。项目中合理的运用设计模式可以完美的解决很多问题，每种模式在现在中都有相应的原理	
							  
						</p> 
					

					
						<span class="continue-read">      	
							<a href="/2019/02/21/php/PHP-设计模式/" class="pull-right">
								展开全文
							</a>		
						</span>
					         		
				</div>
		
			</article>
		
			<article class="am-g blog-entry-article">

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-img">
					<img src="/img/cart_cover.jpg" class="am-u-sm-12">
				</div>	

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-text">
					<span class="theme-annie-post-date">
						<a href="/2019/02/21/jQuery-ajax-serialize-方法/" itemprop="url">
	<time datetime="2019-02-21T07:44:07.000Z" itemprop="datePublished">
  		2019-02-21
  </time>
</a>    

					</span>
					<span class="theme-annie-post-title">
						
	
		<a href="/2019/02/21/jQuery-ajax-serialize-方法/" itemprop="url">		
			jQuery-ajax-serialize()方法		
		</a>
	

					</span>
					
					
						<p>
							
								html代码段：12345678910111213141516171819&lt;form action="index" method="post"&gt;  &lt;div&gt;&lt;input type="text" name="a" value="1" id="a" /&gt;&lt;/div&gt;  &lt;div&gt;&lt;input type="text" name="b" 	
							  
						</p> 
					

					
						<span class="continue-read">      	
							<a href="/2019/02/21/jQuery-ajax-serialize-方法/" class="pull-right">
								展开全文
							</a>		
						</span>
					         		
				</div>
		
			</article>
		
			<article class="am-g blog-entry-article">

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-img">
					<img src="/images/categories/php.jpeg" class="am-u-sm-12">
				</div>	

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-text">
					<span class="theme-annie-post-date">
						<a href="/2019/02/21/php/PHP-数组根据某键值，把相同键值的合并最终生成一个新的二维数组/" itemprop="url">
	<time datetime="2019-02-21T07:28:07.000Z" itemprop="datePublished">
  		2019-02-21
  </time>
</a>    

					</span>
					<span class="theme-annie-post-title">
						
	
		<a href="/2019/02/21/php/PHP-数组根据某键值，把相同键值的合并最终生成一个新的二维数组/" itemprop="url">		
			PHP-数组根据某键值，把相同键值的合并最终生成一个新的二维数组.md		
		</a>
	

					</span>
					
					
						<p>
							
								说明：
将原数组中的有某个相同键值的二维数组合并到一个数组中重新组成一个二维数组。
要处理的PHP数组：
1234567891011121314151617181920212223242526272829303132333435363738394041424344$infos = array(        array(        'gid' =&gt; 36,        'name' =	
							  
						</p> 
					

					
						<span class="continue-read">      	
							<a href="/2019/02/21/php/PHP-数组根据某键值，把相同键值的合并最终生成一个新的二维数组/" class="pull-right">
								展开全文
							</a>		
						</span>
					         		
				</div>
		
			</article>
		
			<article class="am-g blog-entry-article">

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-img">
					<img src="/images/categories/php.jpeg" class="am-u-sm-12">
				</div>	

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-text">
					<span class="theme-annie-post-date">
						<a href="/2019/02/21/php/PHP-header-生成文件/" itemprop="url">
	<time datetime="2019-02-21T07:12:04.000Z" itemprop="datePublished">
  		2019-02-21
  </time>
</a>    

					</span>
					<span class="theme-annie-post-title">
						
	
		<a href="/2019/02/21/php/PHP-header-生成文件/" itemprop="url">		
			PHP-header()生成文件		
		</a>
	

					</span>
					
					
						<p>
							
								1234567891011121314151617181920212223242526&lt;?phppublic function httpHeader()&#123;    $id = 21;        $sql = "select pass from user where id=" . $id;    $pass = $mysql-&gt;getResult($sql);        	
							  
						</p> 
					

					
						<span class="continue-read">      	
							<a href="/2019/02/21/php/PHP-header-生成文件/" class="pull-right">
								展开全文
							</a>		
						</span>
					         		
				</div>
		
			</article>
		
			<article class="am-g blog-entry-article">

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-img">
					<img src="/images/categories/php.jpeg" class="am-u-sm-12">
				</div>	

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-text">
					<span class="theme-annie-post-date">
						<a href="/2019/02/21/php/PHP-取整函数ceil，floor，round，intval函数的区别/" itemprop="url">
	<time datetime="2019-02-21T06:44:29.000Z" itemprop="datePublished">
  		2019-02-21
  </time>
</a>    

					</span>
					<span class="theme-annie-post-title">
						
	
		<a href="/2019/02/21/php/PHP-取整函数ceil，floor，round，intval函数的区别/" itemprop="url">		
			PHP-取整函数ceil，floor，round，intval函数的区别		
		</a>
	

					</span>
					
					
						<p>
							
								ceil — 进一法取整说明
1float ceil ( float $value )
返回不小于 value 的下一个整数，value 如果有小数部分则进一位。ceil() 返回的类型仍然是 float，因为 float 值的范围通常比 integer 要大。
示例：
12345&lt;?php    echo ceil(4.3); // 5    echo ceil(9.999); // 10	
							  
						</p> 
					

					
						<span class="continue-read">      	
							<a href="/2019/02/21/php/PHP-取整函数ceil，floor，round，intval函数的区别/" class="pull-right">
								展开全文
							</a>		
						</span>
					         		
				</div>
		
			</article>
		
			<article class="am-g blog-entry-article">

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-img">
					<img src="/images/categories/php.jpeg" class="am-u-sm-12">
				</div>	

				<div class="am-u-lg-6 am-u-md-12 am-u-sm-12 blog-entry-text">
					<span class="theme-annie-post-date">
						<a href="/2019/02/20/php/PHP-PSR-7HTTP消息接口规范/" itemprop="url">
	<time datetime="2019-02-20T03:39:31.000Z" itemprop="datePublished">
  		2019-02-20
  </time>
</a>    

					</span>
					<span class="theme-annie-post-title">
						
	
		<a href="/2019/02/20/php/PHP-PSR-7HTTP消息接口规范/" itemprop="url">		
			PHP-PSR-7HTTP消息接口规范		
		</a>
	

					</span>
					
					
						<p>
							
								HTTP消息接口此文档描述了 RFC 7230 和 RFC 7231 HTTP 消息传递的接口，还有 RFC 3986 里对 HTTP 消息的 URIs 使用。
HTTP 消息是 Web 技术发展的基础。浏览器或 HTTP 客户端如 curl 生成发送 HTTP 请求消息到 Web 服务器，Web 服务器响应 HTTP 请求。服务端的代码接受 HTTP 请求消息后返回 HTTP 响应消息。
通常 	
							  
						</p> 
					

					
						<span class="continue-read">      	
							<a href="/2019/02/20/php/PHP-PSR-7HTTP消息接口规范/" class="pull-right">
								展开全文
							</a>		
						</span>
					         		
				</div>
		
			</article>
		     

		
	<ul class="am-pagination">
		
		
		
			<li class="am-pagination-next">
				<a href="/page/2/"> 下一页 &raquo; </a>
			</li>
		
	</ul>
    	
	</div>
</div>
<!-- content end -->

	<!--图文风格-->

		</div>
		</main>
		
		<!--footer-->
		<footer>
	<div class="blog-text-center">
		<div class="theme-annie-social">
				
				
					<a href="https://github.com/AuroraLZDF" title="Github" target="_blank"><i class="fa fa-github"></i>&nbsp;</a>
					
				
					<a href="http://github.com/" title="Weibo" target="_blank"><i class="fa fa-weibo"></i>&nbsp;</a>
				
				
					<a href="http://github.com/" title="Email" target="_blank"><i class="fa fa-envelope-o"></i>&nbsp;</a>
					
				
					<a href="http://github.com/" title="QQ" target="_blank"><i class="fa fa-qq"></i>&nbsp;</a>
					
				
					<a href="http://github.com/" title="Twitter" target="_blank"><i class="fa fa-twitter"></i>&nbsp;</a>
						
				
		</div>
	</div>

	<div class="blog-text-center">
		<div class="theme-annie-copyright">
			
				&copy; 2017 - 2019, content by Aurora-龙振巅峰. All Rights Reserved.			       	
			
		</div>
	</div>

	<div class="blog-text-center">
		<div class="theme-annie-copyright">
			<a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> Theme <a href="https://github.com/Sariay/hexo-theme-Annie" title="Annie" target="_blank" rel="noopener">Annie</a> by Sariay.		
		</div>
	</div>
</footer>
		<!-- <script src="http://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script> -->

<script>
	window.jQuery || document.write('<script src="/js/jquery-2.1.1.min.js"><\/script>')
</script>

<style>
	.motto {
		color: #000000;
		font-size: 20px;
		margin: 100px 25% 0;
		width: 50%;
		line-height: 1.4;
		font-family:"KaiTi", "STXingkai", "Source Sans Pro", "Segoe UI", "Lucida Grande", Helvetica, Arial, "Microsoft YaHei", FreeSans, Arimo, "Droid Sans", "wenquanyi micro hei", "Hiragino Sans GB", "Hiragino Sans GB W3", FontAwesome, sans-serif;
		text-align: center;
	}
	@media(max-width: 890px) {
		.motto {	
			margin: 100px 10% 0;
			width: 80%;
		}
	}
	@media(max-width: 890px) {
		.motto {
			margin: 100px 5% 0;
			width: 90%;
		}
	}
</style>


	<script src="/js/motto.js"></script>
	<script type="text/javascript">
		$(".motto").html(getMingYanContent());
	</script>	



	<div class="popup search-popup local-search-popup">
    <span class="popup-btn-close">
      ESC
    </span>
    <div class="container">
      <div class="col-md-8 col-md-offset-2">

        <div class="local-search-header clearfix">
            <span class="search-icon"></span>
            <div class="local-search-input-wrapper">
              <input autocomplete="off" placeholder="Search..." type="text" id="local-search-input">
            </div>
        </div>

        <div id="local-search-result"></div>

      </div>
    </div>
</div>

<script src="/js/ziploader.js"></script>


  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.json";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').fadeOut(300);
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $('.popup').fadeIn(300);
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }
    
    // get search zip version
    $.get('/searchVersion.txt?t=' + (+new Date()), function(res) {
      if (localStorage.getItem('searchVersion') !== res) {
        localStorage.setItem('searchVersion', res);
        initSearchJson();
      }
    });

    function initSearchJson () {
      initLoad(['/search.zip'], {
        loadOptions: {
          success: function(obj) {
            localStorage.setItem('searchJson', obj['search.json'])
          },
          error: function(e) {
            return console.log(e)
          }
        },
        returnOptions: {
          'json': TYPE_TEXT
        },
        mimeOptions:{
          'json':'application/json'
        }
      })
    }

    // search function;
    var searchFunc = function(search_id, content_id) {
      'use strict';

      isfetched = true;
      var datas = JSON.parse(localStorage.getItem('searchJson'));
      console.log(search_id)
      var input = document.getElementById(search_id);
      var resultContent = document.getElementById(content_id);
      var inputEventFunction = function() {
        var searchText = input.value.trim().toLowerCase();
        var keywords = searchText.split(/[\s\-]+/);
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        var resultItems = [];
        if (searchText.length > 0) {
          console.log(searchText, searchText.length, datas);
          // perform local searching
          datas.forEach(function(data) {
            var isMatch = false;
            var hitCount = 0;
            var searchTextCount = 0;
            var title = data.title ? data.title.trim() : '';
            var titleInLowerCase = title.toLowerCase();
            var content = data.content ? data.content.trim().replace(/<[^>]+>/g,"") : '';
            var contentInLowerCase = content.toLowerCase();
            var articleUrl = decodeURIComponent(data.url);
            var indexOfTitle = [];
            var indexOfContent = [];
            // only match articles with not empty titles
            keywords.forEach(function(keyword) {
              function getIndexByWord(word, text, caseSensitive) {
                var wordLen = word.length;
                if (wordLen === 0) {
                  return [];
                }
                var startPosition = 0, position = [], index = [];
                if (!caseSensitive) {
                  text = text.toLowerCase();
                  word = word.toLowerCase();
                }
                while ((position = text.indexOf(word, startPosition)) > -1) {
                  index.push({position: position, word: word});
                  startPosition = position + wordLen;
                }
                return index;
              }

              indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
              indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
            });
            if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
              isMatch = true;
              hitCount = indexOfTitle.length + indexOfContent.length;
            }

            // show search results

            if (isMatch) {
              // sort index by position of keyword

              [indexOfTitle, indexOfContent].forEach(function (index) {
                index.sort(function (itemLeft, itemRight) {
                  if (itemRight.position !== itemLeft.position) {
                    return itemRight.position - itemLeft.position;
                  } else {
                    return itemLeft.word.length - itemRight.word.length;
                  }
                });
              });

              // merge hits into slices

              function mergeIntoSlice(text, start, end, index) {
                var item = index[index.length - 1];
                var position = item.position;
                var word = item.word;
                var hits = [];
                var searchTextCountInSlice = 0;
                while (position + word.length <= end && index.length != 0) {
                  if (word === searchText) {
                    searchTextCountInSlice++;
                  }
                  hits.push({position: position, length: word.length});
                  var wordEnd = position + word.length;

                  // move to next position of hit

                  index.pop();
                  while (index.length != 0) {
                    item = index[index.length - 1];
                    position = item.position;
                    word = item.word;
                    if (wordEnd > position) {
                      index.pop();
                    } else {
                      break;
                    }
                  }
                }
                searchTextCount += searchTextCountInSlice;
                return {
                  hits: hits,
                  start: start,
                  end: end,
                  searchTextCount: searchTextCountInSlice
                };
              }

              var slicesOfTitle = [];
              if (indexOfTitle.length != 0) {
                slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
              }

              var slicesOfContent = [];
              while (indexOfContent.length != 0) {
                var item = indexOfContent[indexOfContent.length - 1];
                var position = item.position;
                var word = item.word;
                // cut out 100 characters
                var start = position - 20;
                var end = position + 80;
                if(start < 0){
                  start = 0;
                }
                if (end < position + word.length) {
                  end = position + word.length;
                }
                if(end > content.length){
                  end = content.length;
                }
                slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
              }

              // sort slices in content by search text's count and hits' count

              slicesOfContent.sort(function (sliceLeft, sliceRight) {
                if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                  return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                  return sliceRight.hits.length - sliceLeft.hits.length;
                } else {
                  return sliceLeft.start - sliceRight.start;
                }
              });

              // select top N slices in content

              var upperBound = parseInt('2');
              if (upperBound >= 0) {
                slicesOfContent = slicesOfContent.slice(0, upperBound);
              }

              // highlight title and content

              function highlightKeyword(text, slice) {
                var result = '';
                var prevEnd = slice.start;
                slice.hits.forEach(function (hit) {
                  result += text.substring(prevEnd, hit.position);
                  var end = hit.position + hit.length;
                  result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                  prevEnd = end;
                });
                result += text.substring(prevEnd, slice.end);
                return result;
              }

              var resultItem = '';

              if (slicesOfTitle.length != 0) {
                resultItem += "<li><a target='_blank' href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
              } else {
                resultItem += "<li><a target='_blank' href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
              }

              slicesOfContent.forEach(function (slice) {
                resultItem +=  "<p class=\"search-result\">" + highlightKeyword(content, slice) + "...</p>";
              });

              resultItem += "</li>";
              resultItems.push({
                item: resultItem,
                searchTextCount: searchTextCount,
                hitCount: hitCount,
                id: resultItems.length
              });
            }
          })
        };
        if (keywords.length === 1 && keywords[0] === "") {
          resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
        } else if (resultItems.length === 0) {
          resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /> no result </div>'
        } else {
          resultItems.sort(function (resultLeft, resultRight) {
            if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
              return resultRight.searchTextCount - resultLeft.searchTextCount;
            } else if (resultLeft.hitCount !== resultRight.hitCount) {
              return resultRight.hitCount - resultLeft.hitCount;
            } else {
              return resultRight.id - resultLeft.id;
            }
          });
          var searchResultList = '<ul class=\"search-result-list\">';
          resultItems.forEach(function (result) {
            searchResultList += result.item;
          })
          searchResultList += "</ul>";
          resultContent.innerHTML = searchResultList;
        }
      }

      if ('auto' === 'auto') {
        input.addEventListener('input', inputEventFunction);
      } else {
        $('.search-icon').click(inputEventFunction);
        input.addEventListener('keypress', function (event) {
          if (event.keyCode === 13) {
            inputEventFunction();
          }
        });
      }

      // remove loading animation
      $('body').css('overflow', '');

      proceedsearch();
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        $('.sb-close').click();
        searchFunc('local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>








<script type="text/javascript" src="/js/main.js"></script>

<script type="text/javascript">
	//generate a random img that pre_name 'from 0 to 110'
	var random_bg = Math.floor(Math.random() * 109 + 1);

	//var bg = 'url(/img/random/' + random_bg + '.jpg)';		
	var bg = 'url(https://auroralzdf.github.io/Random-img/' + random_bg + '.jpg)';

	$("#header-bg-2").css("background-image", bg);
</script>
		
		<!--back to top-->
        <style type="text/css">
	#totop {
		background: white;
		border-radius: 50%;
		position: fixed;
		right: 5.4%;
		bottom: 80px;
		cursor: pointer;
	}
	
	#totop a {
		color: #474747;
		background-color: transparent;
		padding: 10px;
		text-decoration: none;
	}
	
	@media(max-width:512px) {
		#totop {
			display: none;
			visibility: hidden;
		}
	}
</style>


	<div id="totop">
  		<a href="javascript:;" class="fa fa-arrow-up"></a>
	</div>

	</body>
	</html>

